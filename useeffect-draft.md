まず副作用 = 外部システムとのやり取り とした後、
「すべての副作用 = 外部システムとのやり取り は、何かの事象に反応して発生するトリガ処理とみなすことができる」と明言する

React の副作用の実装パターンにはいくつかの定石がある

- 1a. React が DOM ノードを mount/unmount したタイミングで 外部のシステムを初期化・破棄 する副作用
- 1b. React 内部の state に基づいて、外部システム に その値を反映する 副作用
- 2. 何かのイベントに応じて 実行される副作用

React 公式はその

- 1a. 何かの事象 = React が DOM ノードを mount/unmount したという事象に対するトリガ である場合
  - エフェクトを利用せよ、具体的には useEffect の setup 関数に記述せよ
- 1b. 1a の事象に加え、React の state が変化したという事象に対するトリガである場合
  - 依存配列に state も含めてエフェクトを利用せよ、具体的には (省略)
- 2. 何かの事象 = ユーザ(人間)が意図を持って行った操作に対するトリガ である場合
  - イベントハンドラ イベントハンドラ を利用せよ、具体的にはイベントハンドラとして コールバック関数内に記述せよ 3.

と分離して区別している

続いて、副作用の区分について、大きく以下のような区分が可能

- 1a. 処理の流れ
  - useEffect を用いて副作用を登録 → DOM ノードがマウント・アンマウントされたという事象に基づいて副作用を実行
- 1b. 処理の流れ
  - useEffect を用いて副作用を登録 → DOM ノードがマウント・アンマウントされたという事象に加え、state が変更されたという事象に基づいて副作用を実行
- 2. 処理の流れ
  - イベントハンドラ属性を用いてイベントハンドラという副作用を登録 → 任意のイベントに基づいて副作用を実行 (onClick など)

また、この 1a と 2 は接続ができ、以下のように合わせて使う場合も存在する

- 3. 処理の流れ
  - useEffect を用いて副作用を登録 → DOM ノードがマウント・アンマウントされるイベントに基づいて イベントハンドラという副作用を登録・削除 → 任意のイベントに基づいて副作用を実行
